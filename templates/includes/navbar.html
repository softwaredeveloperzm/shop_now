{% load static %}



<nav class="navbar navbar-expand-md navbar-light fixed-top bg-light shadow-sm">
    <div class="container-xl d-flex justify-content-between align-items-center">
        <!-- Brand Logo -->
        <a href="/" class="navbar-brand">
            <span class="fw-bold text-dark">Buy</span>
        </a>

        <!-- Right-side elements: Search, Cart, User Options -->
        <div class="d-flex align-items-center">
            
            <!-- Search form (Optional, commented out) -->
            
            <form action="{% url 'search_products' %}" method="POST" class="d-flex">
                {% csrf_token %}
                <input class="form-control me-2" name="search_query" type="search" placeholder="Search" aria-label="Search">
            </form>
            


            <div class="nav-item ms-3 d-flex align-items-center">
                <a href="{% url 'cart' %}" class="text-decoration-none d-flex align-items-center">
                    <img class="img-fluid me-2" src="{% static '/images/shopping-cart.png' %}" width="25" height="25" alt="Shopping Cart">
                    <div id="cartSummary" class="d-flex align-items-center">
                        <span class="d-inline-block bg-primary text-white rounded-circle px-2 py-1 fs-6 fw-bold" id="cartProductCount">0</span>
                    </div>
                </a>
            </div>
            

            <!-- User Authentication Dropdown -->
            {% if request.user.is_authenticated %}
                <div class="nav-item dropdown ms-3">
                    <a class="btn btn-secondary dropdown-toggle" href="#" id="navbarDropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                        {{ request.user.username }}
                    </a>
                    <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="navbarDropdown">
                        <li><a class="dropdown-item" href="#">Profile</a></li>
                        <li><a class="dropdown-item" href="{% url 'logout_user' %}">Logout</a></li>
                    </ul>
                </div>
            {% else %}
                <!-- Login Button -->
                <a href="{% url 'login' %}" class="btn btn-secondary ms-3">Login</a>
            {% endif %}
        </div>
    </div>
</nav>


